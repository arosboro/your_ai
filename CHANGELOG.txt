# Changelog

All notable changes to this project will be documented in this file.

## [Unreleased]

### Added
- Parallel download support for Internet Archive datasets with rate limiting
  - New `--concurrency` / `-c` flag: Number of parallel download threads (default: 10)
  - New `--rate-limit` / `-r` flag: Maximum requests per second (default: 10.0)
  - Approximately 8x faster downloads compared to sequential processing
  - Thread-safe file writing with proper locking
  - Respects archive.org servers with configurable rate limiting

### Changed
- `download_datasets.py` now uses ThreadPoolExecutor for parallel HTTP requests
- Added RateLimiter class for thread-safe request throttling
- Updated helper functions to pass through concurrency/rate-limit parameters:
  - `download_internet_archive_fulltext()`
  - `download_internet_archive_philosophy()`
  - `download_internet_archive_speeches()`
  - `download_internet_archive_literature()`
  - `download_all_datasets()`

### Performance
- Before: ~1.2 seconds per document (sequential HTTP requests)
- After: ~0.12 seconds per document effective (10 concurrent workers at 10 req/sec)
- Speedup: ~8-10x for Internet Archive downloads

## Usage Examples

```bash
# Default settings (10 workers, 10 req/sec)
python scripts/download_datasets.py --output data/raw --max-samples 30000

# Conservative (gentler on servers)
python scripts/download_datasets.py -c 5 -r 5.0 --output data/raw

# Aggressive (faster, may risk throttling)
python scripts/download_datasets.py -c 15 -r 15.0 --output data/raw

# Single dataset with custom settings
python scripts/download_datasets.py --dataset classical_literature -c 10 -r 10.0
```

